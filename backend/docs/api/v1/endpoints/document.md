# Document Endpoints

This section covers the API endpoints related to document management in the Knowledge Table backend. These endpoints allow you to upload, delete, and manage documents in the system.

## Available Endpoints

1. **POST** `/document` – Upload and process a document.
2. **DELETE** `/document/{document_id}` – Delete a document by its ID.

For detailed API schemas and auto-generated documentation, refer to:

::: app.api.v1.endpoints.document

---

## POST `/document`

### Overview

This endpoint allows you to upload a document to the system for processing. Once uploaded, the document is parsed, and its content is extracted for further use.

### Request

- **Method**: `POST`
- **URL**: `/document`
- **Headers**:
  - `Authorization`: Bearer token (if required)
  - `Content-Type`: `multipart/form-data`
- **Body**: Multipart form data containing the document file.

#### Example Request

```bash
curl -X POST "https://api.example.com/v1/document" \
  -H "Authorization: Bearer YOUR_API_TOKEN" \
  -F "file=@/path/to/your/document.pdf"
```

#### Example Body (Multipart Form)

- `file`: The document file to upload.

```
file=@/path/to/your/document.pdf
```

### Response

- **Status**: 200 OK
- **Content-Type**: application/json

#### Example Response

```json
{
  "document_id": "12345",
  "filename": "document.pdf",
  "status": "processed",
  "metadata": {
    "pages": 10,
    "title": "Sample Document",
    "author": "John Doe"
  }
}
```

### Error Codes

- `400 Bad Request`: The request is malformed, or the file is missing/invalid.
- `401 Unauthorized`: Authentication failed.
- `500 Internal Server Error`: An error occurred during document processing.

---

## DELETE `/document/{document_id}`

### Overview

This endpoint allows you to delete a document from the system by specifying its unique document ID.

### Request

- **Method**: `DELETE`
- **URL**: `/document/{document_id}`
- **Headers**:
  - `Authorization`: Bearer token (if required)
- **Path Parameter**:
  - `document_id`: The unique ID of the document to be deleted.

#### Example Request

```bash
curl -X DELETE "https://api.example.com/v1/document/12345" \
  -H "Authorization: Bearer YOUR_API_TOKEN"
```

### Response

- **Status**: 200 OK

#### Example Response

```json
{
  "message": "Document deleted successfully",
  "document_id": "12345"
}
```

### Error Codes

- `400 Bad Request`: The document_id is missing or invalid.
- `401 Unauthorized`: Authentication failed.
- `404 Not Found`: The document with the specified ID was not found.
- `500 Internal Server Error`: An error occurred during the deletion process.

---

## Notes

For further details on request/response schemas and more advanced interactions, see the interactive API documentation generated by FastAPI.